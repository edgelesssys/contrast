"use strict";(globalThis.webpackChunkcontrast_docs=globalThis.webpackChunkcontrast_docs||[]).push([[11420],{28453(e,t,n){n.d(t,{R:()=>i,x:()=>a});var s=n(96540);const r={},o=s.createContext(r);function i(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:t},e.children)}},78186(e,t,n){n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"reference/node-installer-configuration","title":"Node installer configuration","description":"The Contrast node installer uses an optional ConfigMap to customize the installation process.","source":"@site/docs/reference/node-installer-configuration.md","sourceDirName":"reference","slug":"/reference/node-installer-configuration","permalink":"/contrast/pr-preview/pr-2150/next/reference/node-installer-configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/edgelesssys/contrast/edit/main/docs/docs/reference/node-installer-configuration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Telemetry & data collection","permalink":"/contrast/pr-preview/pr-2150/next/architecture/telemetry"}}');var r=n(74848),o=n(28453);const i={},a="Node installer configuration",d={},c=[];function l(e){const t={admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"node-installer-configuration",children:"Node installer configuration"})}),"\n",(0,r.jsxs)(t.p,{children:["The Contrast node installer uses an optional ",(0,r.jsx)(t.code,{children:"ConfigMap"})," to customize the installation process.\nSuch a ",(0,r.jsx)(t.code,{children:"CofigMap"})," must be called ",(0,r.jsx)(t.code,{children:"contrast-node-installer-target-config"})," and reside in the same namespace as the node installer.\nThe ",(0,r.jsx)(t.code,{children:"ConfigMap"})," is expected to contain one or more of the entries listed below.\nIf an entry is absent, the documented default value will be used.\nNote that an absent entry is different from an entry with an empty value."]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Key"}),(0,r.jsx)(t.th,{children:"Value semantics"}),(0,r.jsx)(t.th,{children:"Default"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"containerd-config-path"})}),(0,r.jsx)(t.td,{children:"Path to the containerd config relative to the node's file system root."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'"etc/containerd/config.toml"'})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"restart-systemd-unit"})}),(0,r.jsxs)(t.td,{children:["This boolean field indicates whether the node installer should restart one of the systemd services in ",(0,r.jsx)(t.code,{children:"systemd-unit-name"}),". The Contrast runtime won't be functional until containerd restarts and picks up the new configuration."]}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'"true"'})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"systemd-unit-name"})}),(0,r.jsx)(t.td,{children:"Comma-separated list of systemd units the node installer should try to restart. The first one that exists in the cluster is restarted, and installation fails if it fails to restart or none is found."}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:'"containerd.service"'})})]})]})]}),"\n",(0,r.jsx)(t.admonition,{type:"warning",children:(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"ConfigMap"})," should only contain keys from the list above.\nOther keys are reserved for future extensions."]})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);