"use strict";(self.webpackChunkcontrast_docs=self.webpackChunkcontrast_docs||[]).push([[8269],{28453:(e,t,o)=>{o.d(t,{R:()=>s,x:()=>a});var r=o(96540);const n={},i=r.createContext(n);function s(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),r.createElement(i.Provider,{value:t},e.children)}},80848:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"howto/coordinator-ha","title":"Coordinator High-Availability","description":"This guide shows how to scale the Contrast Coordinator to more than one instance and make it highly available.","source":"@site/docs/howto/coordinator-ha.md","sourceDirName":"howto","slug":"/howto/coordinator-ha","permalink":"/contrast/pr-preview/pr-1373/next/howto/coordinator-ha","draft":false,"unlisted":false,"editUrl":"https://github.com/edgelesssys/contrast/edit/main/docs/docs/howto/coordinator-ha.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"AMD SEV-SNP attestation","permalink":"/contrast/pr-preview/pr-1373/next/architecture/snp"},"next":{"title":"Registry authentication","permalink":"/contrast/pr-preview/pr-1373/next/howto/registry-authentication"}}');var n=o(74848),i=o(28453);const s={},a="Coordinator High-Availability",c={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Workflow",id:"workflow",level:2},{value:"How it works",id:"how-it-works",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"coordinator-high-availability",children:"Coordinator High-Availability"})}),"\n",(0,n.jsx)(t.p,{children:"This guide shows how to scale the Contrast Coordinator to more than one instance and make it highly available."}),"\n",(0,n.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,n.jsx)(t.p,{children:"Coordinator HA is only available in the enterprise edition of Contrast."}),"\n",(0,n.jsx)(t.h2,{id:"workflow",children:"Workflow"}),"\n",(0,n.jsxs)(t.p,{children:["Deploy the Coordinator according to the ",(0,n.jsx)(t.a,{href:"/contrast/pr-preview/pr-1373/next/deployment",children:"basic workflow"}),".\nBy default, there is only one Coordinator instance."]}),"\n",(0,n.jsx)(t.p,{children:"First, we increase the number of instances to 3:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"kubectl scale statefulset/coordinator --replicas 3\n"})}),"\n",(0,n.jsx)(t.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,n.jsx)(t.p,{children:"Newly started (or restarted) Coordinator instances try to recover from other Coordinator instances in the cluster.\nAs long as a single Coordinator is initialized, the other instances eventually recover from it."})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);