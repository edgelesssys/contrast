"use strict";(globalThis.webpackChunkcontrast_docs=globalThis.webpackChunkcontrast_docs||[]).push([[4008],{28453:(e,t,o)=>{o.d(t,{R:()=>s,x:()=>a});var r=o(96540);const n={},i=r.createContext(n);function s(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),r.createElement(i.Provider,{value:t},e.children)}},80327:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"howto/workload-deployment/set-manifest","title":"Set manifest","description":"Setting the manifest enables the Contrast Coordinator to verify the deployment.","source":"@site/versioned_docs/version-1.14/howto/workload-deployment/set-manifest.md","sourceDirName":"howto/workload-deployment","slug":"/howto/workload-deployment/set-manifest","permalink":"/contrast/pr-preview/pr-1888/howto/workload-deployment/set-manifest","draft":false,"unlisted":false,"editUrl":"https://github.com/edgelesssys/contrast/edit/main/docs/versioned_docs/version-1.14/howto/workload-deployment/set-manifest.md","tags":[],"version":"1.14","frontMatter":{},"sidebar":"docs","previous":{"title":"Connect to Coordinator","permalink":"/contrast/pr-preview/pr-1888/howto/workload-deployment/connect-to-coordinator"},"next":{"title":"Verify deployment","permalink":"/contrast/pr-preview/pr-1888/howto/workload-deployment/deployment-verification"}}');var n=o(74848),i=o(28453);const s={},a="Set manifest",l={},d=[{value:"Applicability",id:"applicability",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"How-to",id:"how-to",level:2}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"set-manifest",children:"Set manifest"})}),"\n",(0,n.jsx)(t.p,{children:"Setting the manifest enables the Contrast Coordinator to verify the deployment."}),"\n",(0,n.jsx)(t.h2,{id:"applicability",children:"Applicability"}),"\n",(0,n.jsx)(t.p,{children:"This step is mandatory for all Contrast deployments. Workloads won't start until a valid manifest has been configured."}),"\n",(0,n.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/contrast/pr-preview/pr-1888/howto/cluster-setup/bare-metal",children:"Set up cluster"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/contrast/pr-preview/pr-1888/howto/install-cli",children:"Install CLI"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/contrast/pr-preview/pr-1888/howto/workload-deployment/runtime-deployment",children:"Deploy the Contrast runtime"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/contrast/pr-preview/pr-1888/howto/workload-deployment/add-coordinator",children:"Add Coordinator to resources"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/contrast/pr-preview/pr-1888/howto/workload-deployment/deployment-file-preparation",children:"Prepare deployment files"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/contrast/pr-preview/pr-1888/howto/workload-deployment/TLS-configuration",children:"Configure TLS (optional)"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/contrast/pr-preview/pr-1888/howto/workload-deployment/GPU-configuration",children:"Enable GPU support (optional)"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/contrast/pr-preview/pr-1888/howto/workload-deployment/generate-annotations",children:"Generate annotations and manifest"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/contrast/pr-preview/pr-1888/howto/workload-deployment/deploy-application",children:"Deploy application"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"/contrast/pr-preview/pr-1888/howto/workload-deployment/connect-to-coordinator",children:"Connect to Coordinator"})}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"how-to",children:"How-to"}),"\n",(0,n.jsx)(t.p,{children:"Attest the Coordinator and set the manifest:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:'contrast set -c "${coordinator}:1313" resources/\n'})}),"\n",(0,n.jsx)(t.p,{children:"This will use the reference values from the manifest file to attest the Coordinator. After this step, the Coordinator will start issuing TLS certificates to the workloads. The init container will fetch a certificate for the workload and the workload is started."})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}}}]);