<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-1.3 docs-doc-page docs-doc-id-architecture/attestation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Attestation in Contrast | Contrast</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.edgeless.systems/contrast/1.3/architecture/attestation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.3"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.3"><meta data-rh="true" name="docsearch:version" content="1.3"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.3"><meta data-rh="true" property="og:title" content="Attestation in Contrast | Contrast"><meta data-rh="true" name="description" content="This document describes the attestation architecture of Contrast, adhering to the definitions of Remote ATtestation procedureS (RATS) in RFC 9334."><meta data-rh="true" property="og:description" content="This document describes the attestation architecture of Contrast, adhering to the definitions of Remote ATtestation procedureS (RATS) in RFC 9334."><link data-rh="true" rel="icon" href="/contrast/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.edgeless.systems/contrast/1.3/architecture/attestation"><link data-rh="true" rel="alternate" href="https://docs.edgeless.systems/contrast/1.3/architecture/attestation" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.edgeless.systems/contrast/1.3/architecture/attestation" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Attestation","item":"https://docs.edgeless.systems/contrast/1.3/architecture/attestation"}]}</script><script src="/contrast/gtagman.js" async data-cookieconsent="ignore"></script><link rel="stylesheet" href="/contrast/assets/css/styles.979edda2.css">
<script src="/contrast/assets/js/runtime~main.84fe2984.js" defer="defer"></script>
<script src="/contrast/assets/js/main.c3703649.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/contrast/img/logos/contrast_icon.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/contrast/"><div class="navbar__logo"><img src="/contrast/img/logos/contrast_icon.svg" alt="Contrast Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/contrast/img/logos/contrast_icon.svg" alt="Contrast Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/contrast/1.3/architecture/attestation">1.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/contrast/next">Next</a></li><li><a class="dropdown__link" href="/contrast/">1.15</a></li><li><a class="dropdown__link" href="/contrast/1.14">1.14</a></li><li><a class="dropdown__link" href="/contrast/1.13">1.13</a></li><li><a class="dropdown__link" href="/contrast/1.12">1.12</a></li><li><a class="dropdown__link" href="/contrast/1.11">1.11</a></li><li><a class="dropdown__link" href="/contrast/1.10/architecture/attestation">1.10</a></li><li><a class="dropdown__link" href="/contrast/1.9/architecture/attestation">1.9</a></li><li><a class="dropdown__link" href="/contrast/1.8/architecture/attestation">1.8</a></li><li><a class="dropdown__link" href="/contrast/1.7/architecture/attestation">1.7</a></li><li><a class="dropdown__link" href="/contrast/1.6/architecture/attestation">1.6</a></li><li><a class="dropdown__link" href="/contrast/1.5/architecture/attestation">1.5</a></li><li><a class="dropdown__link" href="/contrast/1.4/architecture/attestation">1.4</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/contrast/1.3/architecture/attestation">1.3</a></li></ul></div><a href="https://github.com/edgelesssys/contrast" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-1.3"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contrast/1.3"><span title="What is Contrast?" class="linkLabel_WmDU">What is Contrast?</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/contrast/1.3/basics/confidential-containers"><span title="Basics" class="categoryLinkLabel_W154">Basics</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contrast/1.3/basics/confidential-containers"><span title="Confidential Containers" class="linkLabel_WmDU">Confidential Containers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contrast/1.3/basics/security-benefits"><span title="Security benefits" class="linkLabel_WmDU">Security benefits</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contrast/1.3/basics/features"><span title="Features" class="linkLabel_WmDU">Features</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/contrast/1.3/getting-started/install"><span title="Getting started" class="categoryLinkLabel_W154">Getting started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contrast/1.3/getting-started/install"><span title="Install" class="linkLabel_WmDU">Install</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contrast/1.3/getting-started/cluster-setup"><span title="Cluster setup" class="linkLabel_WmDU">Cluster setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contrast/1.3/getting-started/bare-metal"><span title="Bare metal setup" class="linkLabel_WmDU">Bare metal setup</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/contrast/1.3/examples/emojivoto"><span title="Examples" class="categoryLinkLabel_W154">Examples</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contrast/1.3/deployment"><span title="Workload deployment" class="linkLabel_WmDU">Workload deployment</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contrast/1.3/troubleshooting"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/contrast/1.3/components/overview"><span title="Components" class="categoryLinkLabel_W154">Components</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/contrast/1.3/architecture/attestation"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/contrast/1.3/architecture/attestation"><span title="Attestation" class="linkLabel_WmDU">Attestation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contrast/1.3/architecture/secrets"><span title="Secrets &amp; recovery" class="linkLabel_WmDU">Secrets &amp; recovery</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contrast/1.3/architecture/certificates"><span title="Certificate authority" class="linkLabel_WmDU">Certificate authority</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contrast/1.3/architecture/security-considerations"><span title="Security considerations" class="linkLabel_WmDU">Security considerations</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contrast/1.3/architecture/observability"><span title="Observability" class="linkLabel_WmDU">Observability</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contrast/1.3/features-limitations"><span title="Planned features and limitations" class="linkLabel_WmDU">Planned features and limitations</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/contrast/1.3/about/telemetry"><span title="About" class="categoryLinkLabel_W154">About</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Contrast<!-- --> <b>1.3</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/contrast/">latest version</a></b> (<!-- -->1.15<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/contrast/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Architecture</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Attestation</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.3</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Attestation in Contrast</h1></header>
<p>This document describes the attestation architecture of Contrast, adhering to the definitions of Remote ATtestation procedureS (RATS) in <a href="https://www.rfc-editor.org/rfc/rfc9334.html" target="_blank" rel="noopener noreferrer" class="">RFC 9334</a>.
The following gives a detailed description of Contrast&#x27;s attestation architecture.
At the end of this document, we included an <a href="#frequently-asked-questions-about-attestation-in-contrast" class="">FAQ</a> that answers the most common questions regarding attestation in hindsight of the <a class="" href="/contrast/1.3/basics/security-benefits">security benefits</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="attestation-architecture">Attestation architecture<a href="#attestation-architecture" class="hash-link" aria-label="Direct link to Attestation architecture" title="Direct link to Attestation architecture" translate="no">​</a></h2>
<p>Contrast integrates with the RATS architecture, leveraging their definition of roles and processes including <em>Attesters</em>, <em>Verifiers</em>, and <em>Relying Parties</em>.</p>
<p><img decoding="async" loading="lazy" alt="Conceptual attestation architecture" src="/contrast/assets/images/attestation-rats-architecture-1a05fc2165e5c75a171e7b7832186bc3.svg" width="592" height="377" class="img_ev3q"></p>
<p>Figure 1: Conceptual attestation architecture. Taken from <a href="https://www.rfc-editor.org/rfc/rfc9334.html#figure-1" target="_blank" rel="noopener noreferrer" class="">RFC 9334</a>.</p>
<ul>
<li class=""><strong>Attester</strong>: Assigned to entities that are responsible for creating <em>Evidence</em> which is then sent to a <em>Verifier</em>.</li>
<li class=""><strong>Verifier</strong>: These entities utilize the <em>Evidence</em>, <em>Reference Values</em>, and <em>Endorsements</em>. They assess the trustworthiness of the <em>Attester</em> by applying an <em>Appraisal Policy</em> for <em>Evidence</em>. Following this assessment, <em>Verifiers</em> generate <em>Attestation Results</em> for use by <em>Relying Parties</em>. The <em>Appraisal Policy</em> for <em>Evidence</em> may be provided by the <em>Verifier Owner</em>, programmed into the <em>Verifier</em>, or acquired through other means.</li>
<li class=""><strong>Relying Party</strong>: Assigned to entities that utilize <em>Attestation Results</em>, applying their own appraisal policies to make specific decisions, such as authorization decisions. This process is referred to as the &quot;appraisal of Attestation Results.&quot; The <em>Appraisal Policy</em> for <em>Attestation Results</em> might be sourced from the <em>Relying Party Owner</em>, configured by the owner, embedded in the <em>Relying Party</em>, or obtained through other protocols or mechanisms.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="components-of-contrasts-attestation">Components of Contrast&#x27;s attestation<a href="#components-of-contrasts-attestation" class="hash-link" aria-label="Direct link to Components of Contrast&#x27;s attestation" title="Direct link to Components of Contrast&#x27;s attestation" translate="no">​</a></h2>
<p>The key components involved in the attestation process of Contrast are detailed below:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="attester-application-pods">Attester: Application Pods<a href="#attester-application-pods" class="hash-link" aria-label="Direct link to Attester: Application Pods" title="Direct link to Attester: Application Pods" translate="no">​</a></h3>
<p>This includes all Pods of the Contrast deployment that run inside Confidential Containers and generate cryptographic evidence reflecting their current configuration and state.
Their evidence is rooted in the <a class="" href="/contrast/1.3/basics/confidential-containers">hardware measurements</a> from the CPU and their <a class="" href="/contrast/1.3/components/runtime">confidential VM environment</a>.
The details of this evidence are given below in the section on <a href="#evidence-generation-and-appraisal" class="">evidence generation and appraisal</a>.</p>
<p><img decoding="async" loading="lazy" alt="Attestation flow of a confidential pod" src="/contrast/assets/images/attestation-pod-af4fc34dd97b1fdc20f66ecfa4fdeb1a.svg" width="608" height="697" class="img_ev3q"></p>
<p>Figure 2: Attestation flow of a confidential pod. Based on the layered attester graphic in <a href="https://www.rfc-editor.org/rfc/rfc9334.html#figure-3" target="_blank" rel="noopener noreferrer" class="">RFC 9334</a>.</p>
<p>Pods run in Contrast&#x27;s <a class="" href="/contrast/1.3/components/runtime">runtime environment</a> (B), effectively within a confidential VM.
During launch, the CPU (A) measures the initial memory content of the confidential VM that contains Contrast&#x27;s pod-VM image and generates the corresponding attestation evidence.
The image is in <a href="https://github.com/microsoft/igvm" target="_blank" rel="noopener noreferrer" class="">IGVM format</a>, encapsulating all information required to launch a virtual machine, including the kernel, the initramfs, and kernel cmdline.
The kernel cmdline contains the root hash for <a href="https://www.kernel.org/doc/html/latest/admin-guide/device-mapper/verity.html" target="_blank" rel="noopener noreferrer" class="">dm-verity</a> that ensures the integrity of the root filesystem.
The root filesystem contains all  components of the container&#x27;s runtime environment including the <a class="" href="/contrast/1.3/basics/confidential-containers#kata-containers">guest agent</a> (C).</p>
<p>In the userland, the guest agent takes care of enforcing the <a class="" href="/contrast/1.3/components/overview#runtime-policies">runtime policy</a> of the pod.
While the policy is passed in during the initialization procedure via the host, the evidence for the runtime policy is part of the CPU measurements.
During the <a class="" href="/contrast/1.3/deployment#generate-policy-annotations-and-manifest">deployment</a> the policy is annotated to the Kubernetes Pod resources.
The hypervisor adds the hash of the policy to the attestation report via the HOSTDATA (on AMD SEV-SNP) or MRCONFIGID (Intel TDX) fields.
When provided with the policy from the Kata host, the guest agent verifies that the policy&#x27;s hash matches the one in the <code>HOSTDATA</code>/<code>MRCONFIGID</code> field.</p>
<p>In summary a Pod&#x27;s evidence is the attestation report of the CPU that provides evidence for runtime environment and the runtime policy.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="verifier-coordinator-and-cli">Verifier: Coordinator and CLI<a href="#verifier-coordinator-and-cli" class="hash-link" aria-label="Direct link to Verifier: Coordinator and CLI" title="Direct link to Verifier: Coordinator and CLI" translate="no">​</a></h3>
<p>The <a class="" href="/contrast/1.3/components/overview#the-coordinator">Coordinator</a> acts as a verifier within the Contrast deployment, configured with a <a class="" href="/contrast/1.3/components/overview#the-manifest">Manifest</a> that defines the reference values and serves as an appraisal policy for all pods in the deployment.
It also pulls endorsements from hardware vendors to verify the hardware claims.
The Coordinator operates within the cluster as a confidential container and provides similar evidence as any other Pod when it acts as an attester.
In RATS terminology, the Coordinator&#x27;s dual role is defined as a lead attester in a composite device which spans the entire deployment: Coordinator and the workload pods.
It collects evidence from other attesters and conveys it to a verifier, generating evidence about the layout of the whole composite device based on the Manifest as the appraisal policy.</p>
<p><img decoding="async" loading="lazy" alt="Deployment attestation as a composite device" src="/contrast/assets/images/attestation-composite-device-b91e917a07f0f2bb082989317a9b053f.svg" width="576" height="393" class="img_ev3q"></p>
<p>Figure 3: Contrast deployment as a composite device. Based on the composite device in <a href="https://www.rfc-editor.org/rfc/rfc9334.html#figure-4" target="_blank" rel="noopener noreferrer" class="">RFC 9334</a>.</p>
<p>The <a class="" href="/contrast/1.3/components/overview#the-cli-command-line-interface">CLI</a> serves as the verifier for the Coordinator and the entire Contrast deployment, containing the reference values for the Coordinator and the endorsements from hardware vendors.
These reference values are built into the CLI during our release process and can be reproduced offline via reproducible builds.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="relying-party-data-owner">Relying Party: Data owner<a href="#relying-party-data-owner" class="hash-link" aria-label="Direct link to Relying Party: Data owner" title="Direct link to Relying Party: Data owner" translate="no">​</a></h3>
<p>A relying party in the Contrast scenario could be, for example, the <a class="" href="/contrast/1.3/basics/security-benefits">data owner</a> that interacts with the application.
The relying party can use the CLI to obtain the attestation results and Contrast&#x27;s <a class="" href="/contrast/1.3/architecture/certificates">CA certificates</a> bound to these results.
The CA certificates can then be used by the relying party to authenticate the application, for example through TLS connections.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="evidence-generation-and-appraisal">Evidence generation and appraisal<a href="#evidence-generation-and-appraisal" class="hash-link" aria-label="Direct link to Evidence generation and appraisal" title="Direct link to Evidence generation and appraisal" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="evidence-types-and-formats">Evidence types and formats<a href="#evidence-types-and-formats" class="hash-link" aria-label="Direct link to Evidence types and formats" title="Direct link to Evidence types and formats" translate="no">​</a></h3>
<p>In Contrast, attestation evidence revolves around a hardware-generated attestation report, which contains several critical pieces of information:</p>
<ul>
<li class=""><strong>The hardware attestation report</strong>: This report includes details such as the chip identifier, platform information, microcode versions, and comprehensive guest measurements. The entire report is signed by the CPU&#x27;s private key, ensuring the authenticity and integrity of the data provided.</li>
<li class=""><strong>The launch measurements</strong>: Included within the hardware attestation report, this is a digest generated by the CPU that represents a hash of all initial guest memory pages. This includes essential components like the kernel, initramfs, and the kernel command line. Notably, it incorporates the root filesystem&#x27;s dm-verity root hash, verifying the integrity of the root filesystem.</li>
<li class=""><strong>The runtime policy hash</strong>: Also part of the hardware attestation report, this field contains the hash of the Rego policy which dictates all expected API commands and their values from the host to the Kata guest agent. It encompasses crucial settings such as dm-verity hashes for the container image layers, environment variables, and mount points.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="appraisal-policies-for-evidence">Appraisal policies for evidence<a href="#appraisal-policies-for-evidence" class="hash-link" aria-label="Direct link to Appraisal policies for evidence" title="Direct link to Appraisal policies for evidence" translate="no">​</a></h3>
<p>The appraisal of this evidence in Contrast is governed by two main components:</p>
<ul>
<li class=""><strong>The Manifest</strong>: A JSON file used by the Coordinator to align with reference values. It sets the expectations for runtime policy hashes for each pod and includes what should be reported in the hardware attestation report for each component of the deployment.</li>
<li class=""><strong>The CLI&#x27;s appraisal policy</strong>: This policy encompasses expected values of the Coordinator’s guest measurements and its runtime policy. It&#x27;s embedded into the CLI during the build process and ensures that any discrepancy between the built-in values and those reported by the hardware attestation can be identified and addressed. The integrity of this policy is safeguardable through reproducible builds, allowing verification against the source code reference.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="frequently-asked-questions-about-attestation-in-contrast">Frequently asked questions about attestation in Contrast<a href="#frequently-asked-questions-about-attestation-in-contrast" class="hash-link" aria-label="Direct link to Frequently asked questions about attestation in Contrast" title="Direct link to Frequently asked questions about attestation in Contrast" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-the-purpose-of-remote-attestation-in-contrast">What&#x27;s the purpose of remote attestation in Contrast?<a href="#whats-the-purpose-of-remote-attestation-in-contrast" class="hash-link" aria-label="Direct link to What&#x27;s the purpose of remote attestation in Contrast?" title="Direct link to What&#x27;s the purpose of remote attestation in Contrast?" translate="no">​</a></h3>
<p>Remote attestation in Contrast ensures that software runs within a secure, isolated confidential computing environment.
This process certifies that the memory is encrypted and confirms the integrity and authenticity of the software running within the deployment.
By validating the runtime environment and the policies enforced on it, Contrast ensures that the system operates in a trustworthy state and hasn&#x27;t been tampered with.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-does-contrast-ensure-the-security-of-the-attestation-process">How does Contrast ensure the security of the attestation process?<a href="#how-does-contrast-ensure-the-security-of-the-attestation-process" class="hash-link" aria-label="Direct link to How does Contrast ensure the security of the attestation process?" title="Direct link to How does Contrast ensure the security of the attestation process?" translate="no">​</a></h3>
<p>Contrast leverages hardware-rooted security features such as AMD SEV-SNP or Intel TDX to generate cryptographic evidence of a pod’s current state and configuration.
This evidence is checked against pre-defined appraisal policies to guarantee that only verified and authorized pods are part of a Contrast deployment.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-security-benefits-does-attestation-provide">What security benefits does attestation provide?<a href="#what-security-benefits-does-attestation-provide" class="hash-link" aria-label="Direct link to What security benefits does attestation provide?" title="Direct link to What security benefits does attestation provide?" translate="no">​</a></h3>
<p>Attestation confirms the integrity of the runtime environment and the identity of the workloads.
It plays a critical role in preventing unauthorized changes and detecting potential modifications at runtime.
The attestation provides integrity and authenticity guarantees, enabling relying parties—such as workload operators or data owners—to confirm the effective protection against potential threats, including malicious cloud insiders, co-tenants, or compromised workload operators.
More details on the specific security benefits can be found <a class="" href="/contrast/1.3/basics/security-benefits">here</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-can-you-verify-the-authenticity-of-attestation-results">How can you verify the authenticity of attestation results?<a href="#how-can-you-verify-the-authenticity-of-attestation-results" class="hash-link" aria-label="Direct link to How can you verify the authenticity of attestation results?" title="Direct link to How can you verify the authenticity of attestation results?" translate="no">​</a></h3>
<p>Attestation results in Contrast are tied to cryptographic proofs generated and signed by the hardware itself.
These proofs are then verified using public keys from trusted hardware vendors, ensuring that the results aren&#x27;t only accurate but also resistant to tampering.
For further authenticity verification, all of Contrast&#x27;s code is reproducibly built, and the attestation evidence can be verified locally from the source code.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-are-attestation-results-used-by-relying-parties">How are attestation results used by relying parties?<a href="#how-are-attestation-results-used-by-relying-parties" class="hash-link" aria-label="Direct link to How are attestation results used by relying parties?" title="Direct link to How are attestation results used by relying parties?" translate="no">​</a></h3>
<p>Relying parties use attestation results to make informed security decisions, such as allowing access to sensitive data or resources only if the attestation verifies the system&#x27;s integrity.
Thereafter, the use of Contrast&#x27;s <a class="" href="/contrast/1.3/architecture/certificates">CA certificates in TLS connections</a> provides a practical approach to communicate securely with the application.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>In summary, Contrast&#x27;s attestation strategy adheres to the RATS guidelines and consists of robust verification mechanisms that ensure each component of the deployment is secure and trustworthy.
This comprehensive approach allows Contrast to provide a high level of security assurance to its users.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/edgelesssys/contrast/edit/main/docs/versioned_docs/version-1.3/architecture/attestation.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/contrast/1.3/components/service-mesh"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Service mesh</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/contrast/1.3/architecture/secrets"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Secrets &amp; recovery</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#attestation-architecture" class="table-of-contents__link toc-highlight">Attestation architecture</a></li><li><a href="#components-of-contrasts-attestation" class="table-of-contents__link toc-highlight">Components of Contrast&#39;s attestation</a><ul><li><a href="#attester-application-pods" class="table-of-contents__link toc-highlight">Attester: Application Pods</a></li><li><a href="#verifier-coordinator-and-cli" class="table-of-contents__link toc-highlight">Verifier: Coordinator and CLI</a></li><li><a href="#relying-party-data-owner" class="table-of-contents__link toc-highlight">Relying Party: Data owner</a></li></ul></li><li><a href="#evidence-generation-and-appraisal" class="table-of-contents__link toc-highlight">Evidence generation and appraisal</a><ul><li><a href="#evidence-types-and-formats" class="table-of-contents__link toc-highlight">Evidence types and formats</a></li><li><a href="#appraisal-policies-for-evidence" class="table-of-contents__link toc-highlight">Appraisal policies for evidence</a></li></ul></li><li><a href="#frequently-asked-questions-about-attestation-in-contrast" class="table-of-contents__link toc-highlight">Frequently asked questions about attestation in Contrast</a><ul><li><a href="#whats-the-purpose-of-remote-attestation-in-contrast" class="table-of-contents__link toc-highlight">What&#39;s the purpose of remote attestation in Contrast?</a></li><li><a href="#how-does-contrast-ensure-the-security-of-the-attestation-process" class="table-of-contents__link toc-highlight">How does Contrast ensure the security of the attestation process?</a></li><li><a href="#what-security-benefits-does-attestation-provide" class="table-of-contents__link toc-highlight">What security benefits does attestation provide?</a></li><li><a href="#how-can-you-verify-the-authenticity-of-attestation-results" class="table-of-contents__link toc-highlight">How can you verify the authenticity of attestation results?</a></li><li><a href="#how-are-attestation-results-used-by-relying-parties" class="table-of-contents__link toc-highlight">How are attestation results used by relying parties?</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.edgeless.systems/#footer-id" target="_blank" rel="noopener noreferrer" class="footer__link-item">Newsletter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.edgeless.systems/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/EdgelessSystems" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/edgeless-systems/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCOOInN0sCv6icUesisYIDeA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.edgeless.systems/imprint/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Imprint<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.edgeless.systems/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="javascript: Cookiebot.renew()" class="footer__link-item">Cookie Settings</a></li><li class="footer__item"><a href="https://www.edgeless.systems/contact-us/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Edgeless Systems</div></div></div></footer></div>
</body>
</html>