syntax = "proto3";

package intercom;

option go_package = "github.com/edgelesssys/nunki/internal/intercom";

service Intercom {
  rpc NewMeshCert(NewMeshCertRequest) returns (NewMeshCertResponse);
}

message NewMeshCertRequest {
  string PeerPublicKeyHash = 1;
}

message NewMeshCertResponse {
  // PEM-encoded certificate
  bytes CaCert = 1;
  // Concatenated PEM-encoded certificates
  bytes CertChain = 2;
}
